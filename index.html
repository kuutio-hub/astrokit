
<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Amat≈ërcsillag√°sz Sv√°jci Bicska</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üî≠</text></svg>">
    <script src="https://unpkg.com/suncalc@1.9.0/suncalc.js"></script>
    <script src="https://unpkg.com/phosphor-icons"></script>
</head>
<body>
    <div class="app-container">
        <header>
            <div class="title-container">
                <h1><i class="ph-shooting-star"></i> Amat≈ërcsillag√°sz Sv√°jci Bicska</h1>
                <p>Helyi adatok, kalkul√°torok √©s seg√©dletek egy helyen</p>
            </div>
            <div class="controls">
                <button id="night-mode-toggle" class="icon-button" aria-label="√âjszakai m√≥d kapcsol√≥ja">
                    <i class="ph ph-moon"></i>
                </button>
            </div>
        </header>

        <nav>
            <a href="#dashboard" class="nav-item active" data-target="dashboard"><i class="ph-gauge"></i> M≈±szerfal</a>
            <a href="#calculators" class="nav-item" data-target="calculators"><i class="ph-calculator"></i> Kalkul√°torok</a>
            <a href="#astrophoto" class="nav-item" data-target="astrophoto"><i class="ph-camera"></i> Asztrofot√≥</a>
            <a href="#analemma" class="nav-item" data-target="analemma"><i class="ph-sun-horizon"></i> Analemma</a>
            <a href="#calendar" class="nav-item" data-target="calendar"><i class="ph-calendar"></i> Napt√°r</a>
            <a href="#wiki" class="nav-item" data-target="wiki"><i class="ph-books"></i> Tud√°st√°r</a>
        </nav>

        <main>
            <div id="loader" class="loader-container">
                <div class="loader"></div>
                <p>Helymeghat√°roz√°s √©s adatok bet√∂lt√©se...</p>
            </div>
            
            <div id="error-container" class="error-container" style="display: none;"></div>

            <section id="dashboard" class="content-section active">
                <div id="dashboard-container" class="dashboard-container">
                    <!-- Dashboard accordions will be injected by JS -->
                </div>
            </section>

            <section id="calculators" class="content-section">
                <h2><i class="ph-calculator"></i> Csillag√°szati Kalkul√°torok</h2>
                
                <div class="accordion">
                    <button class="accordion-header active">
                        <h3><i class="ph-gear-six"></i> Felszerel√©s Alapbe√°ll√≠t√°sai</h3>
                        <i class="ph ph-caret-down accordion-icon"></i>
                    </button>
                    <div class="accordion-content active" style="max-height: fit-content; padding: 1.5rem;">
                        <p class="description">Add meg itt a felszerel√©sed adatait. Ezek az √©rt√©kek automatikusan kit√∂ltik a megfelel≈ë mez≈ëket, de a sz√°m√≠t√°sokn√°l fel√ºl√≠rhatod ≈ëket.</p>
                        <form id="main-gear-form" class="form-grid">
                             <div><label>T√°vcs≈ë f√≥kuszt√°vols√°ga (mm): <input type="number" name="teleFocalLength" value="1000"></label></div>
                             <div><label>T√°vcs≈ë √°tm√©r≈ëje (mm): <input type="number" name="teleAperture" value="120"></label></div>
                             <div><label>Okul√°r f√≥kuszt√°vols√°ga (mm): <input type="number" name="eyeFocalLength" value="10"></label></div>
                             <div><label>Okul√°r l√°t√≥mezeje (¬∞): <input type="number" name="eyeAFOV" value="52"></label></div>
                             <div><label>Kamera pixelm√©rete (Œºm): <input type="number" name="pixelSize" value="3.76"></label></div>
                        </form>
                    </div>
                </div>

                <div class="thematic-results-grid">
                    <div class="card">
                         <h3><i class="ph-binoculars"></i> Optikai Jellemz≈ëk</h3>
                         <ul id="results-optics" class="data-list-results"></ul>
                    </div>
                     <div class="card">
                         <h3><i class="ph-ruler"></i> Felbont√°s √©s F√©nygy≈±jt√©s</h3>
                         <ul id="results-resolution" class="data-list-results"></ul>
                    </div>
                    <div class="card">
                        <h3><i class="ph-camera-rotate"></i> Kamera √©s √ârz√©kel≈ë</h3>
                        <ul id="results-ccd" class="data-list-results"></ul>
                    </div>
                </div>
            </section>

            <section id="astrophoto" class="content-section">
                <h2><i class="ph-camera"></i> Asztrofot√≥s Seg√©dlet</h2>
                <div class="astrophoto-grid">
                    <div class="card">
                        <h3>Maxim√°lis Expoz√≠ci√≥s Id≈ë</h3>
                        <p class="description">Becsl√©s a csillagok bemozdul√°smentes fot√≥z√°s√°hoz √°ll√≥ √°llv√°nyr√≥l (k√∂vet√©s n√©lk√ºl).</p>
                        <form id="calc-exposure">
                             <label>Objekt√≠v f√≥kuszt√°vols√°ga (mm): <input type="number" id="exp-focal-length" value="50" required></label>
                             <label>Szenzor t√≠pusa: 
                                 <select id="exp-sensor-crop">
                                     <option value="1">Full Frame</option>
                                     <option value="1.5" selected>APS-C (Nikon, Sony)</option>
                                     <option value="1.6">APS-C (Canon)</option>
                                     <option value="2">Mikro N√©gyHarmad</option>
                                 </select>
                             </label>
                             <p class="result">500-as szab√°ly: <span id="exp-result-500">6.67 s</span></p>
                             <p class="result">NPF szab√°ly (aj√°nlott): <span id="exp-result-npf">... s</span></p>
                        </form>
                    </div>
                    <div class="card">
                        <h3>L√°t√≥mez≈ë Szimul√°tor</h3>
                        <p class="description">V√°laszd ki a felszerel√©sed √©s egy c√©lpontot, hogy l√°sd, mi f√©r a k√©pedbe.</p>
                        <form id="fov-form" class="form-grid-2">
                             <div><label>F√≥kuszt√°vols√°g (mm): <input type="number" name="fovFocalLength" value="1000"></label></div>
                             <div><label>Kamera: <select name="fovCamera"></select></label></div>
                             <div><label>C√©lpont: <select name="fovObject"></select></label></div>
                        </form>
                        <div class="canvas-container fov-canvas-container">
                             <canvas id="fov-canvas" width="400" height="300"></canvas>
                             <div id="fov-info"></div>
                        </div>
                    </div>
                </div>
            </section>

            <section id="analemma" class="content-section">
                <h2><i class="ph-sun-horizon"></i> Helyi Analemma</h2>
                <div class="card">
                    <p class="description">A Nap l√°tsz√≥lagos helyzete az √©gen minden nap ugyanabban az id≈ëpontban (helyi d√©l) egy √©ven kereszt√ºl. A sz√°m√≠t√°s automatikusan lefut a h√°tt√©rben, az eredm√©nyt a b√∂ng√©sz≈ë elmenti a gyorsabb megjelen√≠t√©s √©rdek√©ben.</p>
                    <div class="canvas-container">
                         <canvas id="analemma-canvas" width="600" height="400"></canvas>
                         <div id="analemma-loader" class="loader-container" style="display: none;">
                            <div class="loader"></div>
                            <p>Analemma sz√°m√≠t√°sa √©s ment√©se...</p>
                         </div>
                    </div>
                </div>
            </section>

            <section id="calendar" class="content-section">
                <h2><i class="ph-calendar"></i> Csillag√°szati Esem√©nynapt√°r</h2>
                 <div class="card">
                    <div id="calendar-controls">
                        <button id="prev-month"><i class="ph ph-caret-left"></i></button>
                        <h3 id="calendar-month-year"></h3>
                        <button id="next-month"><i class="ph ph-caret-right"></i></button>
                    </div>
                    <div id="calendar-grid"></div>
                    <div id="calendar-legend"></div>
                 </div>
            </section>

            <section id="wiki" class="content-section">
                <h2><i class="ph-books"></i> Tud√°st√°r</h2>
                <div class="accordion">
                    <button class="accordion-header">
                        <h3>T√°vcs≈ët√≠pusok</h3>
                        <i class="ph ph-caret-down accordion-icon"></i>
                    </button>
                    <div class="accordion-content">
                        <p>A csillag√°szati t√°vcs√∂veknek k√©t f≈ë t√≠pusa van: a lencs√©s (refraktor) √©s a t√ºkr√∂s (reflektor)....</p>
                    </div>
                </div>
                <div class="accordion">
                    <button class="accordion-header">
                        <h3>Mechanik√°k √©s √Ållv√°nyok</h3>
                        <i class="ph ph-caret-down accordion-icon"></i>
                    </button>
                    <div class="accordion-content">
                        <p>A mechanika feladata a t√°vcs≈ë stabil tart√°sa √©s prec√≠z mozgat√°sa. K√©t f≈ë fajt√°ja az azimut√°lis √©s az ekvatori√°lis mechanika....</p>
                    </div>
                </div>
                 <div class="accordion">
                    <button class="accordion-header">
                        <h3>Okul√°rok √©s Kieg√©sz√≠t≈ëk</h3>
                        <i class="ph ph-caret-down accordion-icon"></i>
                    </button>
                    <div class="accordion-content">
                        <p>Az okul√°r a t√°vcs≈ë "szemlencs√©je", ezen kereszt√ºl n√©z√ºnk bele. F≈ë jellemz≈ëje a f√≥kuszt√°vols√°ga, ami meghat√°rozza a nagy√≠t√°st....</p>
                    </div>
                </div>
            </section>

        </main>

        <footer>
            <p>K√©sz√ºlt szeretettel magyar csillag√°szoknak. | <span id="app-version"></span></p>
        </footer>
    </div>
    <div id="formula-tooltip" class="formula-tooltip" style="display: none;"></div>
    <script type="module" src="js/main.js"></script>
</body>
</html>