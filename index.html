
<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Amat≈ërcsillag√°sz Sv√°jci Bicska</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üî≠</text></svg>">
    <script src="https://unpkg.com/suncalc@1.9.0/suncalc.js"></script>
    <script src="https://unpkg.com/phosphor-icons"></script>
</head>
<body>
    <div class="app-container">
        <header>
            <div class="title-container">
                <h1><i class="ph-shooting-star"></i> Amat≈ërcsillag√°sz Sv√°jci Bicska</h1>
                <p class="desktop-only">Helyi adatok, kalkul√°torok √©s seg√©dletek egy helyen</p>
            </div>
            <div class="controls">
                <button id="night-mode-toggle" class="icon-button" aria-label="√âjszakai m√≥d kapcsol√≥ja">
                    <i class="ph ph-moon"></i>
                </button>
                <button id="menu-toggle" class="icon-button mobile-only" aria-label="Men√º megnyit√°sa">
                    <i class="ph ph-list"></i>
                </button>
            </div>
        </header>

        <nav id="main-nav">
            <a href="#dashboard" class="nav-item active" data-target="dashboard"><i class="ph-gauge"></i> M≈±szerfal</a>
            <a href="#calculators" class="nav-item" data-target="calculators"><i class="ph-calculator"></i> Kalkul√°torok</a>
            <a href="#astrophoto" class="nav-item" data-target="astrophoto"><i class="ph-camera"></i> Asztrofot√≥</a>
            <a href="#analemma" class="nav-item" data-target="analemma"><i class="ph-sun-horizon"></i> Analemma</a>
            <a href="#calendar" class="nav-item" data-target="calendar"><i class="ph-calendar"></i> Napt√°r</a>
            <a href="#wiki" class="nav-item" data-target="wiki"><i class="ph-books"></i> Tud√°st√°r</a>
        </nav>

        <main>
            <div id="loader" class="loader-container">
                <div class="loader"></div>
                <p>Helymeghat√°roz√°s √©s adatok bet√∂lt√©se...</p>
            </div>
            
            <div id="error-container" class="error-container" style="display: none;"></div>

            <section id="dashboard" class="content-section active">
                <div id="dashboard-container" class="dashboard-container">
                    <!-- Dashboard accordions will be injected by JS -->
                </div>
            </section>

            <section id="calculators" class="content-section">
                <h2><i class="ph-calculator"></i> Csillag√°szati Kalkul√°torok</h2>
                
                <div class="accordion">
                    <button class="accordion-header active">
                        <h3><i class="ph-gear-six"></i> Felszerel√©s Alapbe√°ll√≠t√°sai</h3>
                        <i class="ph ph-caret-down accordion-icon"></i>
                    </button>
                    <div class="accordion-content active" style="max-height: fit-content; padding: 1.5rem;">
                        <p class="description">Add meg itt a felszerel√©sed adatait. Ezek az √©rt√©kek automatikusan friss√ºlnek a t√∂bbi modulban.</p>
                        <form id="main-gear-form" class="form-grid">
                             <div><label>T√°vcs≈ë f√≥kuszt√°vols√°ga (mm): <input type="number" name="teleFocalLength" value="1000"></label></div>
                             <div><label>T√°vcs≈ë √°tm√©r≈ëje (mm): <input type="number" name="teleAperture" value="120"></label></div>
                             <div><label>Okul√°r f√≥kuszt√°vols√°ga (mm): <input type="number" name="eyeFocalLength" value="10"></label></div>
                             <div><label>Okul√°r l√°t√≥mezeje (¬∞): <input type="number" name="eyeAFOV" value="52"></label></div>
                             <div><label>Kamera: <select name="cameraSelect" id="cameraSelect"></select></label></div>
                        </form>
                    </div>
                </div>

                <div class="thematic-results-grid">
                    <div class="card">
                         <h3><i class="ph-binoculars"></i> Optikai Jellemz≈ëk</h3>
                         <ul id="results-optics" class="data-list-results"></ul>
                    </div>
                     <div class="card">
                         <h3><i class="ph-ruler"></i> Felbont√°s √©s F√©nygy≈±jt√©s</h3>
                         <ul id="results-resolution" class="data-list-results"></ul>
                    </div>
                    <div class="card">
                        <h3><i class="ph-camera-rotate"></i> Kamera √©s √ârz√©kel≈ë</h3>
                        <ul id="results-ccd" class="data-list-results"></ul>
                    </div>
                </div>
            </section>

            <section id="astrophoto" class="content-section">
                <h2><i class="ph-camera"></i> Asztrofot√≥s Seg√©dlet</h2>
                <div class="astrophoto-setup">
                    <div class="card">
                        <h3><i class="ph ph-gear"></i> 1. Forgat√≥k√∂nyv √©s Be√°ll√≠t√°sok</h3>
                        <form id="astrophoto-form">
                            <label>Fot√≥z√°si m√≥d:
                                <select id="photo-scenario">
                                    <option value="tripod" selected>Csak kamera √°llv√°nyon (k√∂vet√©s n√©lk√ºl)</option>
                                    <option value="piggyback">Kamera k√∂vet≈ë mechanik√°n (Piggyback)</option>
                                    <option value="primefocus">Kamera primer f√≥kuszban (k√∂vet√©ssel)</option>
                                </select>
                            </label>
                            <div class="form-grid-2">
                                <div><label>Objekt√≠v f√≥kusza (mm): <input type="number" id="ap-focal-length" value="50"></label></div>
                                <div><label>Objekt√≠v rekesze (f/): <input type="number" id="ap-aperture" value="2.8" step="0.1"></label></div>
                            </div>
                             <label>F√©nyszennyezetts√©g:
                                <select id="ap-light-pollution">
                                    <option value="rural">Vid√©ki √©g (Bortle 1-4)</option>
                                    <option value="suburban" selected>El≈ëv√°rosi √©g (Bortle 5-7)</option>
                                    <option value="city">V√°rosi √©g (Bortle 8-9)</option>
                                </select>
                            </label>
                        </form>
                    </div>
                    <div class="card">
                        <h3><i class="ph ph-lightbulb"></i> 2. Eredm√©nyek √©s Javaslatok</h3>
                        <div id="astrophoto-results">
                            <div class="result-item">
                                <h4><i class="ph ph-timer"></i> Max. expoz√≠ci√≥s id≈ë</h4>
                                <p id="res-exposure-time" class="res-value">-- s</p>
                                <p id="res-exposure-rule" class="res-desc">NPF Szab√°ly alapj√°n</p>
                            </div>
                            <div class="result-item">
                                <h4><i class="ph ph-aperture"></i> Javasolt ISO tartom√°ny</h4>
                                <p id="res-iso-range" class="res-value">ISO ---- - ----</p>
                                <p class="res-desc">F√©nyer≈ë √©s f√©nyszennyez√©s alapj√°n</p>
                            </div>
                        </div>
                    </div>
                </div>
                 <div class="card">
                    <h3><i class="ph ph-frame-corners"></i> 3. L√°t√≥mez≈ë Szimul√°tor</h3>
                    <p class="description">V√°laszd ki a c√©lpontot, hogy l√°sd, mi f√©r a k√©pedbe az aktu√°lis be√°ll√≠t√°sokkal.</p>
                    <form id="fov-form" class="form-grid-2">
                         <div><label>C√©lpont: <select name="fovObject"></select></label></div>
                    </form>
                    <div class="canvas-container fov-canvas-container">
                         <canvas id="fov-canvas" width="400" height="300"></canvas>
                         <div id="fov-info"></div>
                    </div>
                </div>
            </section>

            <section id="analemma" class="content-section">
                <h2><i class="ph-sun-horizon"></i> Helyi Analemma</h2>
                <div class="card">
                    <p class="description">A Nap l√°tsz√≥lagos helyzete az √©gen minden nap ugyanabban az id≈ëpontban (helyi d√©l) egy √©ven kereszt√ºl. A nevezetes pontok (napfordul√≥k, nap√©jegyenl≈ës√©gek) kiemelve.</p>
                    <div class="canvas-container">
                         <canvas id="analemma-canvas" width="600" height="400"></canvas>
                         <div id="analemma-tooltip" class="formula-tooltip"></div>
                         <div id="analemma-loader" class="loader-container" style="display: none;">
                            <div class="loader"></div>
                            <p>Analemma sz√°m√≠t√°sa √©s ment√©se...</p>
                         </div>
                    </div>
                </div>
            </section>

            <section id="calendar" class="content-section">
                <h2><i class="ph-calendar"></i> Csillag√°szati Esem√©nynapt√°r</h2>
                 <div class="card">
                    <div id="calendar-controls">
                        <button id="prev-month"><i class="ph ph-caret-left"></i></button>
                        <h3 id="calendar-month-year"></h3>
                        <button id="next-month"><i class="ph ph-caret-right"></i></button>
                    </div>
                    <div id="calendar-grid"></div>
                    <div id="calendar-legend"></div>
                 </div>
            </section>

            <section id="wiki" class="content-section">
                <h2><i class="ph-books"></i> Tud√°st√°r</h2>
                <!-- Wiki accordions will be injected by JS -->
                <div id="wiki-container"></div>
            </section>

        </main>

        <footer>
            <p>K√©sz√ºlt szeretettel magyar csillag√°szoknak. | <span id="app-version"></span></p>
        </footer>
    </div>
    <div id="formula-tooltip" class="formula-tooltip" style="display: none;"></div>
    <script type="module" src="js/main.js"></script>
</body>
</html>