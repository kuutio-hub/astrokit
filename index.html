
<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Amat≈ërcsillag√°sz Sv√°jci Bicska</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üî≠</text></svg>">
    <script src="https://unpkg.com/suncalc@1.9.0/suncalc.js"></script>
    <script src="https://unpkg.com/phosphor-icons"></script>
</head>
<body>
    <div class="app-container">
        <header>
            <div class="title-container">
                <h1><i class="ph-shooting-star"></i> Amat≈ërcsillag√°sz Sv√°jci Bicska</h1>
                <p>Helyi adatok, kalkul√°torok √©s seg√©dletek egy helyen</p>
            </div>
            <div class="controls">
                <button id="night-mode-toggle" class="icon-button" aria-label="√âjszakai m√≥d kapcsol√≥ja">
                    <i class="ph ph-moon"></i>
                </button>
            </div>
        </header>

        <nav>
            <a href="#dashboard" class="nav-item active" data-target="dashboard"><i class="ph-gauge"></i> M≈±szerfal</a>
            <a href="#calculators" class="nav-item" data-target="calculators"><i class="ph-calculator"></i> Kalkul√°torok</a>
            <a href="#astrophoto" class="nav-item" data-target="astrophoto"><i class="ph-camera"></i> Asztrofot√≥</a>
            <a href="#analemma" class="nav-item" data-target="analemma"><i class="ph-sun-horizon"></i> Analemma</a>
            <a href="#calendar" class="nav-item" data-target="calendar"><i class="ph-calendar"></i> Napt√°r</a>
        </nav>

        <main>
            <div id="loader" class="loader-container">
                <div class="loader"></div>
                <p>Helymeghat√°roz√°s √©s adatok bet√∂lt√©se...</p>
            </div>
            
            <div id="error-container" class="error-container" style="display: none;"></div>

            <section id="dashboard" class="content-section active">
                <!-- Dashboard content will be injected by JS -->
            </section>

            <section id="calculators" class="content-section">
                <h2><i class="ph-calculator"></i> Csillag√°szati Kalkul√°torok</h2>
                <p class="description">V√°laszd ki a k√≠v√°nt kalkul√°tort a list√°b√≥l. A felszerel√©sed alapadatait itt megadhatod, melyeket a kalkul√°torok automatikusan haszn√°lnak.</p>
                
                <div class="card main-gear-settings">
                    <h3><i class="ph-gear-six"></i> Alap Felszerel√©s Be√°ll√≠t√°sai</h3>
                    <form id="main-gear-form" class="form-grid">
                        <div><label>T√°vcs≈ë f√≥kuszt√°vols√°ga (mm): <input type="number" name="teleFocalLength" value="1000"></label></div>
                        <div><label>T√°vcs≈ë √°tm√©r≈ëje (mm): <input type="number" name="teleAperture" value="120"></label></div>
                        <div><label>Okul√°r f√≥kuszt√°vols√°ga (mm): <input type="number" name="eyeFocalLength" value="10"></label></div>
                        <div><label>Okul√°r l√°t√≥mezeje (¬∞): <input type="number" name="eyeAFOV" value="52"></label></div>
                    </form>
                </div>
                
                <div class="calculator-layout">
                    <nav class="calculator-nav">
                        <h4>T√°vcs≈ë</h4>
                        <ul>
                            <li><a href="#calc-magnification" class="calc-nav-link active">Nagy√≠t√°s</a></li>
                            <li><a href="#calc-true-fov" class="calc-nav-link">Val√≥s L√°t√≥mez≈ë</a></li>
                            <li><a href="#calc-focal-ratio" class="calc-nav-link">F-ar√°ny</a></li>
                            <li><a href="#calc-focal-length" class="calc-nav-link">F√≥kuszt√°vols√°g</a></li>
                            <li><a href="#calc-eyepiece-magnification" class="calc-nav-link">Okul√°r f√≥kusz</a></li>
                            <li><a href="#calc-max-magnification" class="calc-nav-link">Max. Nagy√≠t√°s</a></li>
                            <li><a href="#calc-dawes-limit" class="calc-nav-link">Dawes-hat√°r</a></li>
                            <li><a href="#calc-rayleigh-limit" class="calc-nav-link">Rayleigh-hat√°r</a></li>
                            <li><a href="#calc-limiting-magnitude" class="calc-nav-link">Hat√°rmagnit√∫d√≥</a></li>
                            <li><a href="#calc-light-grasp" class="calc-nav-link">F√©nygy≈±jt√©s ar√°nya</a></li>
                        </ul>
                        <h4>Binokul√°r</h4>
                        <ul>
                             <li><a href="#calc-bino-real-fov-deg" class="calc-nav-link">Val√≥s L√°t√≥mez≈ë (¬∞-b√≥l)</a></li>
                             <li><a href="#calc-bino-real-fov-m" class="calc-nav-link">Val√≥s L√°t√≥mez≈ë (m-b≈ël)</a></li>
                             <li><a href="#calc-bino-apparent-fov-simple" class="calc-nav-link">L√°tsz√≥lagos L√°t√≥mez≈ë (Egyszer≈±)</a></li>
                             <li><a href="#calc-bino-apparent-fov-iso" class="calc-nav-link">L√°tsz√≥lagos L√°t√≥mez≈ë (ISO)</a></li>
                        </ul>
                        <h4>CCD/Kamera</h4>
                        <ul>
                            <li><a href="#calc-ccd-resolution" class="calc-nav-link">CCD Felbont√°s</a></li>
                            <li><a href="#calc-ccd-pixel-size" class="calc-nav-link">CCD K√©ppontm√©ret</a></li>
                            <li><a href="#calc-ccd-chip-size" class="calc-nav-link">CCD Lapkam√©ret</a></li>
                            <li><a href="#calc-dust-reflection" class="calc-nav-link">Porszem/T√ºkr√∂z≈ëd√©s</a></li>
                        </ul>
                         <h4>√Åtv√°lt√≥</h4>
                        <ul>
                             <li><a href="#calc-in-mm" class="calc-nav-link">Inch ‚Üî MM</a></li>
                        </ul>
                    </nav>
                    <div class="calculator-content">
                        <!-- Telescope Calculators -->
                        <div id="calc-magnification" class="calculator-card active">
                            <h3>Nagy√≠t√°s</h3>
                            <form id="form-magnification"><label>T√°vcs≈ë f√≥kusza (mm): <input type="number" name="teleFocalLength"></label><label>Okul√°r f√≥kusza (mm): <input type="number" name="eyeFocalLength"></label></form>
                            <p class="result">Nagy√≠t√°s: <span id="res-magnification"></span>x <i class="ph-info-fill info-icon" data-formula="Nagy√≠t√°s = T√°vcs≈ë F√≥kusz / Okul√°r F√≥kusz"></i></p>
                        </div>
                        <div id="calc-true-fov" class="calculator-card">
                             <h3>Val√≥s L√°t√≥mez≈ë</h3>
                             <form id="form-true-fov"><label>Okul√°r l√°t√≥mezeje (¬∞): <input type="number" name="eyeAFOV"></label><label>Nagy√≠t√°s: <input type="number" name="magnification"></label></form>
                             <p class="result">Val√≥s L√°t√≥mez≈ë: <span id="res-true-fov"></span>¬∞ <i class="ph-info-fill info-icon" data-formula="Val√≥s L√°t√≥mez≈ë = Okul√°r L√°tsz√≥lagos L√°t√≥mezeje / Nagy√≠t√°s"></i></p>
                        </div>
                        <div id="calc-focal-ratio" class="calculator-card">
                            <h3>F-ar√°ny (Ny√≠l√°sviszony)</h3>
                            <form id="form-focal-ratio"><label>T√°vcs≈ë f√≥kusza (mm): <input type="number" name="teleFocalLength"></label><label>T√°vcs≈ë √°tm√©r≈ëje (mm): <input type="number" name="teleAperture"></label></form>
                            <p class="result">F-ar√°ny: f/<span id="res-focal-ratio"></span> <i class="ph-info-fill info-icon" data-formula="F-ar√°ny = F√≥kuszt√°vols√°g / √Åtm√©r≈ë"></i></p>
                        </div>
                        <div id="calc-focal-length" class="calculator-card">
                            <h3>F√≥kuszt√°vols√°g</h3>
                            <form id="form-focal-length"><label>T√°vcs≈ë √°tm√©r≈ëje (mm): <input type="number" name="teleAperture"></label><label>F-ar√°ny: <input type="number" name="focalRatio"></label></form>
                            <p class="result">F√≥kuszt√°vols√°g: <span id="res-focal-length"></span> mm <i class="ph-info-fill info-icon" data-formula="F√≥kuszt√°vols√°g = √Åtm√©r≈ë √ó F-ar√°ny"></i></p>
                        </div>
                        <div id="calc-eyepiece-magnification" class="calculator-card">
                            <h3>Okul√°r F√≥kusz adott nagy√≠t√°shoz</h3>
                            <form id="form-eyepiece-magnification"><label>T√°vcs≈ë f√≥kusza (mm): <input type="number" name="teleFocalLength"></label><label>K√≠v√°nt nagy√≠t√°s: <input type="number" name="magnification"></label></form>
                            <p class="result">Sz√ºks√©ges okul√°r: <span id="res-eyepiece-magnification"></span> mm <i class="ph-info-fill info-icon" data-formula="Okul√°r F√≥kusz = T√°vcs≈ë F√≥kusz / Nagy√≠t√°s"></i></p>
                        </div>
                        <div id="calc-max-magnification" class="calculator-card">
                            <h3>Maxim√°lis Elm√©leti Nagy√≠t√°s</h3>
                            <form id="form-max-magnification"><label>T√°vcs≈ë √°tm√©r≈ëje (mm): <input type="number" name="teleAperture"></label></form>
                            <p class="result">Max. Nagy√≠t√°s: <span id="res-max-magnification"></span>x <i class="ph-info-fill info-icon" data-formula="Max. Nagy√≠t√°s = 2.5 √ó T√°vcs≈ë √Åtm√©r≈ë (mm) [Maximum 350x]"></i></p>
                        </div>
                        <div id="calc-dawes-limit" class="calculator-card">
                            <h3>Felbont√≥k√©pess√©g (Dawes-hat√°r)</h3>
                            <form id="form-dawes-limit"><label>T√°vcs≈ë √°tm√©r≈ëje (mm): <input type="number" name="teleAperture"></label></form>
                            <p class="result">Dawes-hat√°r: <span id="res-dawes-limit"></span>" <i class="ph-info-fill info-icon" data-formula="Dawes-hat√°r = 116 / T√°vcs≈ë √Åtm√©r≈ë (mm)"></i></p>
                        </div>
                        <div id="calc-rayleigh-limit" class="calculator-card">
                            <h3>Felbont√≥k√©pess√©g (Rayleigh-hat√°r)</h3>
                            <form id="form-rayleigh-limit"><label>T√°vcs≈ë √°tm√©r≈ëje (mm): <input type="number" name="teleAperture"></label></form>
                            <p class="result">Rayleigh-hat√°r: <span id="res-rayleigh-limit"></span>" <i class="ph-info-fill info-icon" data-formula="Rayleigh-hat√°r = 138 / T√°vcs≈ë √Åtm√©r≈ë (mm)"></i></p>
                        </div>
                        <div id="calc-limiting-magnitude" class="calculator-card">
                            <h3>Elm√©leti Hat√°rmagnit√∫d√≥</h3>
                            <form id="form-limiting-magnitude"><label>T√°vcs≈ë √°tm√©r≈ëje (mm): <input type="number" name="teleAperture"></label></form>
                            <p class="result">Hat√°rmagnit√∫d√≥: <span id="res-limiting-magnitude"></span>m <i class="ph-info-fill info-icon" data-formula="Magnit√∫d√≥ = 7.7 + (5 √ó Log10(√Åtm√©r≈ë (cm)))"></i></p>
                        </div>
                        <div id="calc-light-grasp" class="calculator-card">
                            <h3>F√©nygy≈±jt√©s Ar√°nya</h3>
                            <form id="form-light-grasp"><label>Nagyobbik √°tm√©r≈ë (mm): <input type="number" name="aperture1"></label><label>Kisebbik √°tm√©r≈ë (mm): <input type="number" name="aperture2" value="7"></label></form>
                            <p class="result">Ar√°ny: <span id="res-light-grasp"></span>x <i class="ph-info-fill info-icon" data-formula="Ar√°ny = (Nagyobb √Åtm√©r≈ë)¬≤ / (Kisebb √Åtm√©r≈ë)¬≤"></i></p>
                        </div>
                        
                        <!-- Binocular Calculators -->
                        <div id="calc-bino-real-fov-deg" class="calculator-card">
                           <h3>Val√≥s L√°t√≥mez≈ë (m-ben)</h3>
                           <form id="form-bino-real-fov-deg"><label>L√°t√≥mez≈ë (¬∞): <input type="number" name="fov_deg"></label></form>
                           <p class="result">L√°t√≥mez≈ë 1000m-en: <span id="res-bino-real-fov-deg"></span> m <i class="ph-info-fill info-icon" data-formula="L√°t√≥mez≈ë @ 1000m = tan(L√°t√≥mez≈ë ¬∞) √ó 1000"></i></p>
                        </div>
                        <div id="calc-bino-real-fov-m" class="calculator-card">
                           <h3>Val√≥s L√°t√≥mez≈ë (¬∞-ban)</h3>
                           <form id="form-bino-real-fov-m"><label>L√°t√≥mez≈ë 1000m-en (m): <input type="number" name="fov_m"></label></form>
                           <p class="result">L√°t√≥mez≈ë: <span id="res-bino-real-fov-m"></span>¬∞ <i class="ph-info-fill info-icon" data-formula="L√°t√≥mez≈ë ¬∞ = arctan(L√°t√≥mez≈ë @ 1000m / 1000)"></i></p>
                        </div>
                        <div id="calc-bino-apparent-fov-simple" class="calculator-card">
                           <h3>L√°tsz√≥lagos L√°t√≥mez≈ë (Egyszer≈±)</h3>
                           <form id="form-bino-apparent-fov-simple"><label>Val√≥s l√°t√≥mez≈ë (¬∞): <input type="number" name="real_fov"></label><label>Nagy√≠t√°s: <input type="number" name="magnification"></label></form>
                           <p class="result">L√°tsz√≥lagos l√°t√≥mez≈ë: <span id="res-bino-apparent-fov-simple"></span>¬∞ <i class="ph-info-fill info-icon" data-formula="L√°tsz√≥lagos LM = Val√≥s LM √ó Nagy√≠t√°s"></i></p>
                        </div>
                        <div id="calc-bino-apparent-fov-iso" class="calculator-card">
                           <h3>L√°tsz√≥lagos L√°t√≥mez≈ë (ISO)</h3>
                           <form id="form-bino-apparent-fov-iso"><label>Val√≥s l√°t√≥mez≈ë (¬∞): <input type="number" name="real_fov"></label><label>Nagy√≠t√°s: <input type="number" name="magnification"></label></form>
                           <p class="result">L√°tsz√≥lagos l√°t√≥mez≈ë: <span id="res-bino-apparent-fov-iso"></span>¬∞ <i class="ph-info-fill info-icon" data-formula="L√°tsz√≥lagos LM = 2 √ó arctan(Nagy√≠t√°s √ó tan(Val√≥s LM / 2))"></i></p>
                        </div>

                        <!-- CCD Calculators -->
                        <div id="calc-ccd-resolution" class="calculator-card">
                            <h3>CCD Felbont√°s</h3>
                            <form id="form-ccd-resolution"><label>K√©ppontm√©ret (Œºm): <input type="number" name="pixelSize"></label><label>T√°vcs≈ë f√≥kusza (mm): <input type="number" name="teleFocalLength"></label></form>
                            <p class="result">Felbont√°s: <span id="res-ccd-resolution"></span> "/pixel <i class="ph-info-fill info-icon" data-formula="Felbont√°s = (K√©ppontm√©ret / F√≥kuszt√°vols√°g) √ó 206.265"></i></p>
                        </div>
                        <div id="calc-ccd-pixel-size" class="calculator-card">
                           <h3>CCD K√©ppontm√©ret</h3>
                           <form id="form-ccd-pixel-size"><label>Lapka m√©rete (mm): <input type="number" name="chipSize"></label><label>Felbont√°s (pixel): <input type="number" name="resolution"></label></form>
                           <p class="result">K√©ppontm√©ret: <span id="res-ccd-pixel-size"></span> Œºm/pixel <i class="ph-info-fill info-icon" data-formula="K√©ppontm√©ret (Œºm) = (Lapkam√©ret (mm) / Felbont√°s) √ó 1000"></i></p>
                        </div>
                        <div id="calc-ccd-chip-size" class="calculator-card">
                           <h3>CCD Lapkam√©ret</h3>
                           <form id="form-ccd-chip-size"><label>K√©ppontm√©ret (Œºm): <input type="number" name="pixelSize"></label><label>Felbont√°s (pixel): <input type="number" name="resolution"></label></form>
                           <p class="result">Lapkam√©ret: <span id="res-ccd-chip-size"></span> mm <i class="ph-info-fill info-icon" data-formula="Lapkam√©ret (mm) = K√©ppontm√©ret (Œºm) √ó Felbont√°s / 1000"></i></p>
                        </div>
                        <div id="calc-dust-reflection" class="calculator-card">
                            <h3>Porszem/T√ºkr√∂z≈ëd√©s M√©rete</h3>
                            <form id="form-dust-reflection"><label>K√©ppontm√©ret (Œºm): <input type="number" name="pixelSize"></label><label>F-ar√°ny: <input type="number" name="focalRatio"></label><label>√Årny√©k √°tm√©r≈ëje (pixel): <input type="number" name="shadow_px"></label></form>
                            <p class="result">Val√≥s m√©ret: <span id="res-dust-reflection"></span> mm <i class="ph-info-fill info-icon" data-formula="M√©ret (mm) = K√©ppontm√©ret (mm) √ó F-ar√°ny √ó √Årny√©k √°tm√©r≈ë (px)"></i></p>
                        </div>

                        <!-- Converters -->
                         <div id="calc-in-mm" class="calculator-card">
                            <h3>Inch ‚Üî Millim√©ter √Åtv√°lt√≥</h3>
                            <form id="form-in-mm" class="form-grid">
                                <div><label>Inch: <input type="number" name="inches" value="1"></label></div>
                                <div><label>Millim√©ter: <input type="number" name="mm" value="25.4"></label></div>
                            </form>
                             <p class="result">√Åtv√°lt√°si ar√°ny: 1 inch = 25.4 mm</p>
                         </div>
                    </div>
                </div>

            </section>

            <section id="astrophoto" class="content-section">
                <h2><i class="ph-camera"></i> Asztrofot√≥s Seg√©dlet</h2>
                <div class="card">
                    <h3>Maxim√°lis Expoz√≠ci√≥s Id≈ë (Szab√°ly)</h3>
                    <p class="description">Becsl√©s a csillagok bemozdul√°smentes fot√≥z√°s√°hoz √°ll√≥ √°llv√°nyr√≥l. A klasszikus "500-as" vagy prec√≠zebb "NPF" szab√°ly is haszn√°lhat√≥.</p>
                    <form id="calc-exposure">
                        <label>Objekt√≠v f√≥kuszt√°vols√°ga (mm): <input type="number" id="exp-focal-length" value="18" required></label>
                        <label>Szenzor t√≠pusa: 
                            <select id="exp-sensor-crop">
                                <option value="1">Full Frame</option>
                                <option value="1.5">APS-C (Nikon, Sony)</option>
                                <option value="1.6">APS-C (Canon)</option>
                                <option value="2">Mikro N√©gyHarmad</option>
                            </select>
                        </label>
                         <label>Szab√°ly: 
                            <select id="exp-rule">
                                <option value="500">500-as szab√°ly</option>
                                <option value="300">300-as szab√°ly (Prec√≠zebb)</option>
                            </select>
                        </label>
                        <p class="result">Maxim√°lis expoz√≠ci√≥: <span id="exp-result">16.67 s</span></p>
                    </form>
                </div>
            </section>

            <section id="analemma" class="content-section">
                <h2><i class="ph-sun-horizon"></i> Helyi Analemma</h2>
                <div class="card">
                    <p class="description">A Nap l√°tsz√≥lagos helyzete az √©gen minden nap ugyanabban az id≈ëpontban (helyi d√©l) egy √©ven kereszt√ºl. A sz√°m√≠t√°s automatikusan lefut a h√°tt√©rben, az eredm√©nyt a b√∂ng√©sz≈ë elmenti a gyorsabb megjelen√≠t√©s √©rdek√©ben.</p>
                    <div class="canvas-container">
                         <canvas id="analemma-canvas" width="600" height="400"></canvas>
                         <div id="analemma-loader" class="loader-container" style="display: none;">
                            <div class="loader"></div>
                            <p>Analemma sz√°m√≠t√°sa √©s ment√©se...</p>
                         </div>
                    </div>
                </div>
            </section>

            <section id="calendar" class="content-section">
                <h2><i class="ph-calendar"></i> Csillag√°szati Esem√©nynapt√°r (2026)</h2>
                <div class="card">
                    <p class="description">Jelent≈ësebb csillag√°szati esem√©nyek 2026-ban. Add hozz√° a napt√°radhoz az al√°bbi gombbal, hogy ne maradj le semmir≈ël!</p>
                    <a href="data/events_2026.ics" class="button-primary" download="csillagasz_naptar_2026.ics"><i class="ph-download-simple"></i> .ICS Napt√°rf√°jl let√∂lt√©se</a>
                    <div id="calendar-preview">
                        <h3>El≈ën√©zet</h3>
                        <ul>
                            <li><strong>Janu√°r 3-4:</strong> Quadrantid√°k meteorraj maximuma</li>
                            <li><strong>M√°rcius 3:</strong> Teljes holdfogyatkoz√°s (Magyarorsz√°gr√≥l a v√©ge l√°tszik)</li>
                            <li><strong>M√°rcius 20:</strong> Tavaszi nap√©jegyenl≈ës√©g</li>
                            <li><strong>√Åprilis 22-23:</strong> Lyrid√°k meteorraj maximuma</li>
                            <li><strong>M√°jus 6-7:</strong> Eta Aquarid√°k meteorraj maximuma</li>
                            <li><strong>J√∫nius 21:</strong> Ny√°ri napfordul√≥</li>
                            <li><strong>Augusztus 12:</strong> R√©szleges napfogyatkoz√°s (Izlandon √©s Spanyolorsz√°gban teljes)</li>
                            <li><strong>Augusztus 12-13:</strong> Perseid√°k meteorraj maximuma</li>
                            <li><strong>Augusztus 28:</strong> R√©szleges holdfogyatkoz√°s</li>
                            <li><strong>Szeptember 22:</strong> ≈êszi nap√©jegyenl≈ës√©g</li>
                            <li><strong>Okt√≥ber 21-22:</strong> Orionid√°k meteorraj maximuma</li>
                            <li><strong>November 17-18:</strong> Leonid√°k meteorraj maximuma</li>
                            <li><strong>December 13-14:</strong> Geminid√°k meteorraj maximuma</li>
                            <li><strong>December 21:</strong> T√©li napfordul√≥</li>
                        </ul>
                    </div>
                </div>
            </section>
        </main>

        <footer>
            <p>K√©sz√ºlt szeretettel magyar csillag√°szoknak. | Javaslatok, √∂tletek: [email c√≠med] </p>
        </footer>
    </div>
    <div id="formula-tooltip" class="formula-tooltip" style="display: none;"></div>
    <script type="module" src="js/main.js"></script>
</body>
</html>
